<html>
<head>
	<title>Guild Wars 2 Events</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="main.css" />
	<script type="text/javascript" src="jquery-2.0.0.min.js"></script>
	<script type="text/javascript" src="main.js"></script>
	<script type="text/javascript">
		var params = inherit(Params, {lang: "de"}).create();

		function display_index(params)
		{
			var html = ["<h1>Events</h1>"];

			var sorted_worlds = [];
			for (var world_id in worlds)
				sorted_worlds.push(world_id);
			sorted_worlds.sort(function(a, b)
			{
				a = worlds[a];
				b = worlds[b];

				if (a.names[params.lang] < b.names[params.lang])
					return -1;
				else if (a.names[params.lang] > b.names[params.lang])
					return 1;
				return 0;
			});

			var types = ["all", "active", "chest", "chestactive"];

			for (var i = 0; i < sorted_worlds.length; ++i)
			{
				var world = worlds[sorted_worlds[i]];
				html.push("<p>");
				html.push(world.names[params.lang]);
				html.push(": ");

				for (var j = 0; j < types.length; ++j)
				{
					var type = types[j];
					if (j)
						html.push(", ");
					html.push("<a href='events.html?world_id=" + world.world_id + "&lang=" + params.lang + "&type=" + type + "'>" + type + "</a>");
				}
				html.push("</p>");
			}

			$("body").html(html.join(""));
		}
		$(init(params, display_index));
	</script>
</head>
<body>
<h1>Events</h1>
</body>
</html>
